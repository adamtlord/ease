$(function(){function e(e){window.location.href="/concierge/customers/"+e}var n=new Bloodhound({datumTokenizer:function(e){return e.tokens},queryTokenizer:Bloodhound.tokenizers.whitespace,identify:function(e){return e.id},prefetch:{url:"/concierge/customers/search",cache:!1,transform:function(e){return e.customers}}}),o={highlight:!0,hint:!0,minLength:2};$("#customer_search .typeahead").typeahead(o,{display:function(e){var n=e.mobile_phone?" "+e.mobile_phone:"";return e.name+" "+e.home_phone+n},name:"customers",source:n}).on("typeahead:select",function(n,o){e(o.id)}).on("keypress",function(e){13===e.keyCode&&$("#customer_search .tt-suggestion:first-child").trigger("click")})});